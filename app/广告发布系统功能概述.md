# 功能项说明

## 用户验证
1. 使用后台管理系统的用户需要进行登录受权访问。
2. 受权验证失败，则禁止使用；

## 系统用户管理
1. 新增用户，可以增加多个系统管理员。
2. 可以修改用户信息。
3. 可以删除过期的用信息。

## 设备管理
- 设备信息管理
1. 添加广告屏设备信息（包括设备部分硬件信息，app信息，地理位置信息等部分或全部信息）。
	设备的添加以在线设备自动注册的方式完成新增设备添加。当设备安装上app启动后，App向服务器发起请求，
	如果是符合系统要求的App客户端，并且未注册，服务器自动完成App客户端注册流程；如果App客户端已经注册，
	服务器将根据app所在的地理位置，分发数据。
2. 查看广告屏设备。
3. 修改广告屏设备信息。
	广告屏的特征数据不支持修改，但可以争对备注信息作修改，以方便管理

- 设备状态管理
1. 着重于后台与广告屏 **及时通信** 管理。区别于行业 **伪及时** 通信管理。及时通信可让广告屏与后台管理无延时响应（需要网络畅通）。
2. 实现广告插播。
3. 实现广告远程控制播放与暂停及停播。
4. 监视广告屏在线或离线状态。

- 设备分组管理
1. 可以将具有相同特征的设备放一个相同的组，进行批量管理。

## 广告管理
- 广告内容管理
1. 实现每一个广告节目的管理，包括添加广告、编辑广告和删除广告。
2. 节目属性包括但不限于生效日期和过期日期（日为单位）。

- 投放计划管理(针对于一个设备或一批设备设置播放模式)

1. 指定节目（单个或多个）的顺序播放开始时间和结束时间（以秒为单位）。
2. 指定节目（单个或多个）轮播开始时间和停止时间（以秒为单位）。

## 关于广告发布（投放计划）管理的衍生模式
- 插播广告
1. 只支持在线广告屏，服务器端发布即播放的一种广告发布模式。
2. 播放内容按列表顺序播放，播放完毕则结束当前列表的播放。
3. 插播广告列表不会保存到客户端缓存，放完则丢弃。
4. [任务列表参数说明](#intubate)
- 定时播放
1. 定时播放是插播衍生出的一种模式。
2. 具有插播模式的特点。
3. 由服务器定时发布。
4. [任务列表参数说明](#timeout)
- 轮播广告
1. 轮播广告列表会永久保存在客户端缓存。
2. 当收到服务器发送的同一类型轮播广告任务列表时，其优先级别被置换，原轮播广告任务列表失效。
3. 失效的广告任务列表会被任务回收机制回收（清理）。
4. 轮播广告在播放时，会无限次重复顺序轮播。
5. [任务列表参数说明](#fool)
- 定时轮播广告
1. 定时轮播是轮播广告衍生出的一种模式。
2. 具有轮播广告的模式的特点。
3. 任务列表只在指定的时间段内被播放。
4. 优先级高于轮播广告
5. [任务列表参数说明](#fool-timeout)
- 限期定时轮播广告
1. 限期定时轮播广告是轮播广告衍生出的一种模式。
2. 轮播广告列表会保存在客户端缓存。
3. 当日期超过限定日期后，广告任务列表会被任务回收机制回收（清理）。
4. 当收到服务器发送的同一类型轮播广告任务列表时，其优先级别被置换，原轮播广告任务列表失效。
5. 任务列表只在有效期内指定的时间段内被播放。
6. [任务列表参数说明](#fool-date-timeout)
- 初始播放列表
1. 初始播放列表是客户端第一次与服务器连接成功后获得的播放任务列表。
2. 其优先权处于最低层。
3. 初始播放列表具有轮播广告的特点。
4. 当用户发布轮播广告列表后，初始播放列表失效。
5. 失效的广告任务列表会被任务回收机制回收（清理）。
6. [任务列表参数说明](#init)

## 关于客户端类型说明
- 网络版
1. 当前系统属网络版客户端定制开发。
2. 网络版客户端拥有系统所有功能。
- 离线版（单机版）
1. 网络版客户端可用于离线版安装。
2. 播放功能限于 ‘轮播广告’、‘定时轮播广告’、‘限期定时轮播广告’和‘初始播放列表’。

## 任务列表参数说明
``` 非描述性参数为默认值 ```

<span id="intubate"></span>
插播广告任务列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: '客户端id',
	taskId: '任务列表id',
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: false,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: 0,
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: 0,
	//播放开始时间
	playStart: 0,
	//播放结束时间
	playDone: 0,
	//任务分区表
	list: [						
		//播放任务(type: img 可以有多组播放任务)
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）必须指定
					duration: 2  			
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					//播放时长。如果为0， 表示以视频的播放时长为实际播放时长
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: notice 可以有一组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					//播放时长，必须指定
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		}
	]
}

```

<span id="timeout"></span>
定时播放广告任务列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: '客户端id',
	taskId: '任务列表id',
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: false,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: '任务执行日期',
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: 0,
	//播放开始时间
	playStart: '任务执行时间如：13:00:00',
	//播放结束时间
	playDone: 0,
	//任务分区表
	list: [						
		//播放任务(type: img 可以有多组播放任务)
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）必须指定
					duration: 2  			
				},
				 //可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					duration: 20
				},
				 //可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: notice 可以有多组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					duration: 20
				},
				 //可以有多组资源数据 ....
			]
		}
	]
}

```

<span id="fool"></span>
轮播广告任务列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: '客户端id',
	taskId: '任务列表id',
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: true,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: 0,
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: 0,
	//播放开始时间
	playStart: 0,
	//播放结束时间
	playDone: 0,
	//任务分区表
	list: [						
		//一区播放任务
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）
					duration: 2  			
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					duration: 20
				},
				 //可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: notice 可以有一组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		}
	]
}

```

<span id="fool-timeout"></span>
轮播广告任务列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: '客户端id',
	taskId: '任务列表id',
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: true,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: 0,
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: 0,
	//播放开始时间
	playStart: "如：13:10:00",
	//播放结束时间
	playDone: "如：13:30:00",
	//任务分区表
	list: [						
		//一区播放任务
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）
					duration: 2  			
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					duration: 20
				},
				 //可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: notice 可以有一组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		}
	]
}

```


<span id="fool-date-timeout"></span>
限期定时轮播广告任务列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: 0,
	taskId: 0,
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: true,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: "如：2019/12/30",
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: "如：2020/01/30",
	//播放开始时间
	playStart: '如：13:00:00',
	//播放结束时间
	playDone: '如：15:23:00',
	//任务分区表
	list: [						
		//一区播放任务
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）
					duration: 2  			
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		},
		
		 //播放任务(type: notice 可以有一组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		}
	]
}

```


<span id="init"></span>
初始播放列表参数说明：
``` javascript
{
	//任务请求状态0，成功；1失败
	error: 0,
	//任务请求状态描述
	message: "成功获取任务列表",  
	//type 请求类型标识， 可有以下值
	//task_list 要求执行任务列表
	//oper_play 要求屏幕执行播放
	//oper_stop 要求屏幕停止播放
	type: "task_list",
	//任务识别信息
	unid: 0,
	taskId: 0,
	//任务持久标识persistent 可有以下值
	//true持久任务（永久或期限内），会被保存到客户端（应用场景：如执行完插播任务后，接着执行当前任务); 
	//false 插播任务,任务列表不会被保存到客户端
	persistent: true,
	//任务开始时间
	//0 表示永久不过期
	//限制时间段表示在这时间段内循环执行任务
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，则执行当前列表任务
	//当同一时刻有多个任务列表有效时，执行最后一次下发的任务
	startTime: 0,
	//任务结束时间
	//可取具体时间|0, 如果开始时间大于0，但小于当前时间时，当前列表将被删除
	endTime: 0,
	//播放开始时间
	playStart: 0,
	//播放结束时间
	playDone: 0,
	//任务分区表
	list: [						
		//播放任务(type: img 可以有多组播放任务)
		{
			//type 任务成员类型，可有以下值 
			//img  任务成员为图片
			//video 任务成员为视频。可支持本地视频(mp4/flv)，网络视频地址（mp4/flv/m3u8）及流媒体（rtmp/hls/rtsp）
			//notice
			type: 'img', //播放图片
			//taskTag 任务成员标识
			taskTag: 't1',
			//style 任务成员样式
			style: {width:'20%',height:'33.3%',right:0},
			//enable 任务成员是否启用，
			//true 启用，客户端展示当前成员
			//false 不启用，客户端不展示当前成员
			enable: true,
			//style 任务成员元素列表
			list: [
				{
					//资源地址
					url:'/img/01.png',	
					//播放时长（单位：秒）
					duration: 2  			
				},
				//可以有多组资源数据 ....
			]
		},
		
		//播放任务(type: video 逻辑上可以有多个，生产中只可以有一组播放任务)
		/**
		 * 视频播放数据模型
		 * 样式说明: 客户端定位position: static
		 */
		{
			type: 'video', //播放图片
			taskTag: 't2',
			style: {'height':'80%', 'width':'80%'},
			enable: true,
			list: [
				{
					url:'/video/01.mp4',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		},
		
		 //播放任务(type: notice 可以有一组播放任务)
		{
			type: 'notice', //播放图片
			taskTag: 't3',
			style: {'height':'20%', 'width':'80%','top':'80%'},
			enable: true,
			list: [
				{
					title:'祝70周年国庆',
					content:'中华人民共和国万岁！中华人民共和国万岁！',
					duration: 20
				},
				//可以有多组资源数据 ....
			]
		}
	]
}

```
